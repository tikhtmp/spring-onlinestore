<!DOCTYPE html>
<html lang="en" xmlns:th="http://thymeleaf.org" xmlns="http://www.w3.org/1999/html">
<body>

<div th:fragment="onlinestore_image">
    <img th:src="@{/resources/static/images/onlinestore.svg}" alt="" width="45" height="36"
         style="float:left; margin-right:10px;"/>
</div>


<div th:fragment="admin_users_navbar">
    <nav class="navbar navbar-expand-sm navbar-light bg-light p-1">
        <div class="container-fluid">
            <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                    <li class="navbar-brand" th:insert="/user/user_fragments :: onlinestore_image"></li>

                    <li class="nav-link" style="float:left; margin-right:25px;">
                        <a type="button" class="btn btn-light btn-sm rounded-pill"
                           style="background-color: #e1f5ec; cursor: default;">
                            <span class="d-none d-md-inline fs-5 fw-weight-bold">
                                <i class="bi bi-person" style="font-size: 20px;"></i> <span th:text="${login}"
                                                                                            style="font-size: 20px;"></span>
                            </span>
                        </a>
                    </li>

                    <li class="nav-link">
                        <a type="button" class="btn-sm btn-outline-secondary text-decoration-none rounded-pill"
                           th:href="@{/admins/products}">
                            <span class="d-none d-md-inline fs-5 fw-weight-bold">
                                <i class="bi bi-house"></i> Home
                            </span>
                        </a>
                    </li>

                    <li class="nav-link">
                        <a type="button" class="btn-sm btn-outline-secondary text-decoration-none rounded-pill"
                           th:href="@{'/admins/' + ${admin_id} + '/cart/products'}">
                            <span class="d-none d-md-inline fs-5 fw-weight-bold">
                               <i class="bi bi-cart4"></i> Cart
                            </span>
                        </a>
                    </li>

                    <li class="nav-link">
                        <a type="button" class="btn-sm btn-outline-secondary text-decoration-none rounded-pill"
                           th:href="@{'/admins/' + ${admin_id} + '/users/' + ${admin_id} + '/update'}">
                            <span class="d-none d-md-inline fs-5 fw-weight-bold">
                                <i class="bi bi-pencil"></i> Edit account
                            </span>
                        </a>
                    </li>

                    <li class="nav-link">
                        <a id="logout_link" type="button"
                           class="btn-sm btn-outline-secondary text-decoration-none rounded-pill">
                            <span class="d-none d-md-inline fs-5 fw-weight-bold"
                                  onclick="document.getElementById('logout-form').submit();">
                                <i class="bi bi-box-arrow-right"></i> Logout
                            </span>
                        </a>
                    </li>
                    <form id="logout-form" style="display:none" th:action="@{/logout}" method="POST"></form>

                </ul>

                <form class="d-flex">
                    <input class="form-control me-2" type="search" placeholder="Search" aria-label="Search"
                           name="filter" size="40">
                    <button class="btn btn-outline-dark" type="submit">Search</button>
                </form>

            </div>
        </div>
    </nav>
</div>

<div th:fragment="admin_navbar_for_card">
    <nav class="navbar navbar-expand-sm navbar-light bg-light p-1">
        <div class="container-fluid">
            <div class="collapse navbar-collapse" id="cartNavbarSupportedContent">
                <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                    <li class="navbar-brand" th:insert="/user/user_fragments :: onlinestore_image"></li>

                    <li class="nav-link" style="float:left; margin-right:25px;">
                        <a type="button" class="btn btn-light btn-sm rounded-pill"
                           style="background-color: #e1f5ec; cursor: default;">
                            <span class="d-none d-md-inline fs-5 fw-weight-bold">
                                <i class="bi bi-person" style="font-size: 20px;"></i> <span th:text="${login}"
                                                                                            style="font-size: 20px;"></span>
                            </span>
                        </a>
                    </li>

                    <li class="nav-link">
                        <a type="button" class="btn-sm btn-outline-secondary text-decoration-none rounded-pill"
                           th:href="@{/admins/products}">
                            <span class="d-none d-md-inline fs-5 fw-weight-bold">
                                <i class="bi bi-house"></i> Home
                            </span>
                        </a>
                    </li>

                    <li class="nav-link">
                        <a type="button" class="btn-sm btn-outline-secondary text-decoration-none rounded-pill"
                           th:href="@{'/admins/' + ${user_id} + '/cart/products'}">
                            <span class="d-none d-md-inline fs-5 fw-weight-bold">
                                <i class="bi bi-cart4"></i> Cart
                            </span>
                        </a>
                    </li>

                    <li class="nav-link">
                        <a type="button" class="btn-sm btn-outline-secondary text-decoration-none rounded-pill"
                           th:href="@{/admins/products/new}">
                            <span class="d-none d-md-inline fs-5 fw-weight-bold">
                                <i class="bi bi-plus-square"></i> Add product
                            </span>
                        </a>
                    </li>

                    <li class="nav-link">
                        <a type="button" class="btn-sm btn-outline-secondary text-decoration-none rounded-pill"
                           th:href="@{'/admins/' + ${user_id} + '/users'}">
                            <span class="d-none d-md-inline fs-5 fw-weight-bold">
                                <i class="bi bi-people"></i> Users
                            </span>
                        </a>
                    </li>

                    <li class="nav-link">
                        <a id="card_logout_link" type="button"
                           class="btn-sm btn-outline-secondary text-decoration-none rounded-pill">
                            <span class="d-none d-md-inline fs-5 fw-weight-bold"
                                  onclick="document.getElementById('card_logout_form').submit();">
                                <i class="bi bi-box-arrow-right"></i> Logout
                            </span>
                        </a>
                    </li>
                    <form id="card_logout_form" style="display:none" th:action="@{/logout}" method="POST"></form>

                </ul>

            </div>
        </div>
    </nav>

    </nav>
</div>

<div th:fragment="admin_navbar_for_cart">
    <nav class="navbar navbar-expand-sm navbar-light bg-light p-1">
        <div class="container-fluid">
            <div class="collapse navbar-collapse" id="navbarSupportedContentCard">

                <ul class="navbar-nav me-auto mb-2 mb-lg-0">

                    <li class="navbar-brand" th:insert="/user/user_fragments :: onlinestore_image"></li>

                    <li class="nav-link" style="float:left; margin-right:25px;">
                        <a type="button" class="btn btn-light btn-sm rounded-pill"
                           style="background-color: #e1f5ec; cursor: default;">
                            <span class="d-none d-md-inline fs-5 fw-weight-bold">
                                <i class="bi bi-person" style="font-size: 20px;"></i> <span th:text="${login}"
                                                                                            style="font-size: 20px;"></span>
                            </span>
                        </a>
                    </li>

                    <li class="nav-link">
                        <a type="button" class="btn-sm btn-outline-secondary text-decoration-none rounded-pill"
                           th:href="@{/admins/products}">
                            <span class="d-none d-md-inline fs-5 fw-weight-bold">
                                <i class="bi bi-house"></i> Home
                            </span>
                        </a>
                    </li>

                     <li class="nav-link">
                        <a type="button" class="btn-sm btn-outline-secondary text-decoration-none rounded-pill"
                           th:href="@{'/admins/' + ${user_id} + '/users'}">
                            <span class="d-none d-md-inline fs-5 fw-weight-bold">
                                <i class="bi bi-people"></i> Users
                            </span>
                        </a>
                    </li>

                     <li class="nav-link">
                        <a type="button" class="btn-sm btn-outline-secondary text-decoration-none rounded-pill"
                           th:href="@{'/admins/' + ${user_id} + '/users/' + ${user_id} + '/update'}">
                            <span class="d-none d-md-inline fs-5 fw-weight-bold">
                                <i class="bi bi-pencil"></i> Edit account
                            </span>
                        </a>
                    </li>

                    <li class="nav-link">
                        <a id="cart_logout_link" type="button"
                           class="btn-sm btn-outline-secondary text-decoration-none rounded-pill">
                            <span class="d-none d-md-inline fs-5 fw-weight-bold"
                                  onclick="document.getElementById('cart_logout_form').submit();">
                                <i class="bi bi-box-arrow-right"></i> Logout
                            </span>
                        </a>
                    </li>
                    <form id="cart_logout_form" style="display:none" th:action="@{/logout}" method="POST"></form>

                </ul>

            <form class="d-flex">
                 <input class="form-control me-2" type="search" placeholder="Search" aria-label="Search"
                            name="filter" size="40">
                       <button class="btn btn-outline-dark" type="submit">Search</button>
            </form>

            </div>
        </div>
    </nav>
</div>

<!-- Product index displays list-->
<div th:fragment="product_index_list">

    <div th:insert="product_index_fragments :: filter"></div>

    <th:block th:each="product : ${products}">
        <tbody>
        <div class="container-fluid bg-light">
            <tr>
                <td>

                    <div class="row gy-1">
                        <div class="col-1 align-self-center">
                            <img th:src="@{/resources/static/images/onlinestore_add_photo.jpg}"
                                 class="img-fluid align-self-center" style="width: 50px;" alt="...">
                        </div>

                        <div class="col-1 align-self-center">
                            <p class="card-text btn-sm" th:text="'Price: ' + ${product.getPrice()}"></p>
                        </div>

                        <div class="col-4 align-self-center">
                            <span class="d-none d-md-inline fs-5 fw-weight-bold">
                                <a class="card-text btn-sm btn-outline-secondary "
                                   th:text="${product.getName()} +': ' + ${product.getShortDescription()}"
                                   th:href="@{/admins/products/{id}(id=${product.getId()})}">
                                </a>
                            </span>
                        </div>

                        <div class="col-1 align-self-center" style="text-align: center;">
                            <span class="card-text btn-sm" th:text="' Created:'" style="display: inline-block;"></span>
                            <span class="card-text btn-sm" th:text="${product.getCreationDate()}" style="display:inline-block;"></span>
                        </div>

                        <div class="col-1 align-self-center" style="text-align: center;">
                            <span class="card-text btn-sm" th:text="'Updated:'" style="display: inline-block;"></span>
                            <span class="card-text btn-sm" th:text="${product.getUpdateDate()}" style="display: inline-block;"></span>
                        </div>

                        <div class="col-1 align-self-center">
                            <span class="d-none d-md-inline fs-5 fw-weight-bold">
                                  <a class="card-text btn-sm btn-outline-secondary rounded-pill"
                                     th:href="@{'/admins/' + ${user_id} + '/cart/products/' + ${product.getId()} + '/new'}">
                                       <i class="bi bi-cart-plus"></i> Add to cart
                                  </a>
                            </span>
                        </div>

                        <div class="col-1 align-self-center">
                            <span class="d-none d-md-inline fs-5 fw-weight-bold">
                                  <a class="card-text btn-sm btn-outline-secondary rounded-pill"
                                     th:href="@{'/admins/products/' + ${product.getId()} + '/edit'}">
                                        <i class="bi bi-pencil"></i> Edit
                                  </a>
                            </span>
                        </div>

                        <div class="col-1 align-self-center">
                            <span class="d-none d-md-inline fs-5 fw-weight-bold">
                                            <a class="card-text btn-sm btn-outline-secondary rounded-pill"
                                               th:href="@{'/admins/products/' + ${product.getId()} + '/delete'}">
                                                  <i class="bi bi-trash"></i> Delete
                                            </a>
                            </span>
                        </div>

                        <div class="col-1 align-self-center">
                            <span class="d-none d-md-inline fs-5 fw-weight-bold">
                                            <a class="card-text btn-sm btn-outline-secondary rounded-pill"
                                               th:href="@{'/admins/' + ${user_id} + '/users/' + ${product.getAuthor()}}">
                                            <i class="bi bi-person-circle"></i>Author
                                        </a>
                            </span>
                        </div>

                    </div>
                </td>
            </tr>
        </div>
        </tbody>


    </th:block>
</div>

<!-- Product index displays grid-->
<div th:fragment="product_index_grid">
    <div th:insert="product_index_fragments :: filter"></div>

    <div class="row row-cols-1 row-cols-md-6 g-4">
        <th:block th:each="product : ${products}">
            <tr>
                <div class="col">
                    <div class="card" style="width: 15rem;">
                        <img th:src="@{/resources/static/images/onlinestore_add_photo.jpg}" class="card-img-top"
                             alt="...">
                        <div class="card-body">
                            <p class="card-text" th:text="'Price: ' + ${product.getPrice()}">Price</p>
                            <p class="card-text">
                                 <span class="d-none d-md-inline fs-5 fw-weight-bold">
                                    <a class="card-text btn-sm btn-outline-secondary "
                                       th:text="${product.getName()} +': ' + ${product.getShortDescription()}"
                                       th:href="@{/admins/products/{id}(id=${product.getId()})}">
                                    </a>
                                </span>
                            </p>

                            <span class="card-text btn-sm" th:text="' Created:'" style="display: inline-block;"></span>
                            <span class="card-text btn-sm" th:text="${product.getCreationDate()}" style="display: inline-block;"></span>

                            <span class="card-text btn-sm" th:text="'Updated:'" style="display: inline-block;"></span>
                            <span class="card-text btn-sm" th:text="${product.getUpdateDate()}"></span>

                            <p class="card-text">
                                <span class="d-none d-md-inline fs-5 fw-weight-bold" style="display: inline-block;">
                                  <a class="card-text btn-sm btn-outline-secondary rounded-pill"
                                     th:href="@{'/admins/' + ${user_id} + '/cart/products/' + ${product.getId()} + '/new'}">
                                       <i class="bi bi-cart-plus"></i> Add to cart
                                  </a>
                                </span>
                            </p>

                            <p class="card-text">
                            <span class="d-none d-md-inline fs-5 fw-weight-bold" style="display: inline-block;">
                                  <a class="card-text btn-sm btn-outline-secondary rounded-pill"
                                     th:href="@{'/admins/products/' + ${product.getId()} + '/edit'}">
                                        <i class="bi bi-pencil"></i> Edit
                                  </a>
                            </span>
                            </p>

                            <p class="card-text">
                                <span class="d-none d-md-inline fs-5 fw-weight-bold" style="display: inline-block;">
                                            <a class="card-text btn-sm btn-outline-secondary rounded-pill"
                                               th:href="@{'/admins/products/' + ${product.getId()} + '/delete'}">
                                                  <i class="bi bi-trash"></i> Delete
                                            </a>
                                </span>
                            </p>

                            <p class="card-text">
                                <span class="d-none d-md-inline fs-5 fw-weight-bold" style="display: inline-block;">
                                     <a class="card-text btn-sm btn-outline-secondary rounded-pill"
                                        th:href="@{'/admins/' + ${user_id} + '/users/' + ${product.getAuthor()}}">
                                        <i class="bi bi-person-circle"></i>Author
                                     </a>
                                </span>
                            </p>
                        </div>
                    </div>
                </div>
            </tr>
        </th:block>

    </div>
</div>

</body>
</html>
